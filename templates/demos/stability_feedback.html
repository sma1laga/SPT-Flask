{% extends "base.html" %}
{% block content %}
<h1>Stability and Feedback Systems (L&nbsp;10-12)</h1>
<p>
  This demo shows the pole diagrams of a transfer function
  $$ H(s)=\frac{b}{s-a}, $$
  and the transfer function of the feedback system
  $$ Q(s)=\frac{H(s)}{1+K\,H(s)}=\frac{b}{\,s-a+K\,b\,}. $$
  The background indicates a stable system: green for stable, red for unstable.
</p>

<div class="demo row" data-stability-defaults='{{ defaults | tojson | e }}' data-compute-url="{{ url_for('stability_feedback.compute') }}">
  <div class="card">
    <div class="toolbar">
      <div>
        <label for="a">\(a\)</label>
        <input id="a" type="number" step="{{ defaults.step }}"
              min="{{ defaults.min_a }}" max="{{ defaults.max_a }}"
              value="{{ defaults.a }}">
      </div>
      <div>
        <label for="b">\(b\)</label>
        <input id="b" type="number" step="{{ defaults.step }}"
              min="{{ defaults.min_b }}" max="{{ defaults.max_b }}"
              value="{{ defaults.b }}">
      </div>
      <div>
        <label for="K">\(K\)</label>
        <input id="K" type="number" step="{{ defaults.step }}"
              min="{{ defaults.min_K }}" max="{{ defaults.max_K }}"
              value="{{ defaults.K }}">
      </div>
    </div>

    <div class="toolbar">
      <button id="run">Update</button>
      <button id="reset">Reset</button>
    </div>
  </div>

  <div class="card">
    <img id="plot" src="{{ initial_image }}" alt="Pole diagrams of H(s) and Q(s)" decoding="async" loading="eager">
  </div>
</div>
{% endblock %}


{% block scripts %}
<script src="{{ url_for('static', filename='js/demos/stability_feedback.js') }}"></script>
{% endblock %}
